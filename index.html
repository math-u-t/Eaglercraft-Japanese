<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Minecraft</title>
  <link rel="icon" href="favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Minecraft Java版の1.5.2をブラウザで無料でプレイできます。U5KUNによって日本語訳され、日本の方でも手軽にプレイできるようになりました。学校のchromebookなどのブラウザも含め、ほとんどのブラウザでプレイ可能です。拡張機能は必要ありません。シングルプレイ、マルチプレイの両方に対応しています。また、サーバーを立てなくてもマルチプレイができます。">
  <meta name="keywords" content="minecraft, eaglercraft, singleplayer, applet, replit, browser, html5, javascript, chromebook, lax1dude, games, eagler, japanese, マイクラ, 日本語, クロームブック, 学校, イーグル, クラフト, イーグルクラフト, マインクラフト, ブラウザ, HTML, web, ウェブ, オンライン, Java Edition, ダウンロード不要, Unblocked games, 1.5.2, サーバー, マルチプレイ、 本物, 無料, シングルプレイ">
  <meta name="author" content="lax1dude">

  <!-- Open Graph (OGP) -->
  <meta property="og:title" content="Eaglercraft">
  <meta property="og:locale" content="en-US">
  <meta property="og:type" content="website">
  <meta property="og:description" content="Minecraft Java版の1.5.2をブラウザで無料でプレイできます。U5KUNによって日本語訳され、日本の方でも手軽にプレイできるようになりました。学校のchromebookなどのブラウザも含め、ほとんどのブラウザでプレイ可能です。拡張機能は必要ありません。シングルプレイ、マルチプレイ両方の両方に対応しています。また、サーバーを立てなくてもマルチプレイができます。">

  <!-- 必要なJSファイル -->
  <script src="classes.js"></script>
  <script src="eagswebrtc.js"></script>

  <script type="text/javascript">
    if (document.location.href.startsWith("file:")) {
      alert("このHTMLファイルはブラウザで直接'開く'ことはできません。あなたのHTTPサーバーにアップロードしてアクセスしてプレイできます。バグではありません。付属のドキュメントを参照してください。");
    } else {
      window.addEventListener("load", function () {
        const relayId = Math.floor(Math.random() * 3);

        window.eaglercraftOpts = {
          container: "game_frame",
          assetsURI: "assets.epk",
          serverWorkerURI: "worker_bootstrap.js",
          worldsFolder: "MAIN",
          servers: [
            {
              serverName: "ArchMC(最高のミニゲームサーバー)",
              serverAddress: "wss://mc.arch.lol/",
              hideAddress: false
            },
            {
              serverName: "Asspixel(ラグいミニゲームサーバー)",
              serverAddress: "wss://web.asspixel.net/CAPixel/",
              hideAddress: false
            },
            {
              serverName: "Aeon(The Pitがあるよ!)",
              serverAddress: "wss://aeon.megatkc.repl.co/",
              hideAddress: false
            }
          ],
          relays: [
            {
              addr: "wss://relay.deev.is/",
              name: "lax1dude relay #1",
              primary: relayId === 0
            },
            {
              addr: "wss://relay.lax1dude.net/",
              name: "lax1dude relay #2",
              primary: relayId === 1
            },
            {
              addr: "wss://relay.shhnowisnottheti.me/",
              name: "ayunami relay #1",
              primary: relayId === 2
            }
          ],
          mainMenu: {
            splashes: [
              "Translated by U5KUN!!",
              "U5KUNが翻訳!!"
            ],
            eaglerLogo: true
          }
        };

        // URLパラメータでserver指定があれば設定に追加
        (function () {
          const query = window.location.search;
          if (typeof query === 'string' && query.startsWith("?")) {
            const params = new URLSearchParams(query);
            const s = params.get("server");
            if (s) window.minecraftOpts.push(s);
          }
        })();

        // メイン処理呼び出し
        main();
      });
    }
  </script>
</head>

<body style="margin:0px;width:100vw;height:100vh;" id="game_frame">
</body>
</html>